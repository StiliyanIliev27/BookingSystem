@model HotelEditAddInputModel
@{
    ViewData["Title"] = "Add a new Hotel";
}

<h2 class="text-center">@ViewData["Title"]</h2>
<hr />

<div class="row">
    <div class="col-sm-12 offset-lg-2 col-lg-8 offset-xl-3 col-xl-6">
        <form method="post" asp-area="Admin" asp-controller="Hotel" asp-action="Add">
            <div style="width: 100%;">
                <img id="hotelImage" style="width: 100%; height: auto; object-fit: cover; margin-bottom: 10px;" src="@Model.ImageUrl" alt="Hotel image" class="card-img" />
            </div>
            <div class="mb-3">
                <label asp-for="@Model.Name" class="form-label-add-edit">
                    Name:<span style="color: red"> *</span>
                </label>
                <input asp-for="@Model.Name" class="form-control" aria-required="true" placeholder="Hotel's name..." />
                <span asp-validation-for="@Model.Name" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.City_Id" class="form-label-add-edit">City:<span style="color: red"> *</span></label>
                <select asp-for="@Model.City_Id" class="form-control" aria-required="true">
                    <option disabled selected value="">Select City...</option>
                    @foreach (var city in Model.Cities)
                    {
                        <option value="@city.Id">@city.Name</option>
                    }
                </select>
                <span asp-validation-for="@Model.City_Id" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.Address" class="form-label-add-edit">
                    Address:<span style="color: red"> *</span>
                </label>
                <input asp-for="@Model.Address" class="form-control" aria-required="true" placeholder="Hotel's address..." />
                <span asp-validation-for="@Model.Address" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.Details" class="form-label-add-edit">
                    Details:<span style="color: red"> *</span>
                </label>
                <textarea asp-for="@Model.Details" class="form-control" aria-required="true" placeholder="Hotel's details..." rows="10"></textarea>
                <span asp-validation-for="@Model.Details" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.StarRate" class="form-label-add-edit">
                    Star Rate:<span style="color: red"> *</span>
                </label>
                <input asp-for="@Model.StarRate" class="form-control" aria-required="true" placeholder="Hotel's star rate..." />
                <span asp-validation-for="@Model.StarRate" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.CheckIn" class="form-label-add-edit">
                    Check In:<span style="color: red"> *</span>
                </label>
                <input asp-for="@Model.CheckIn" class="form-control" aria-required="true" placeholder="Hotel's check in..." />
                <span asp-validation-for="@Model.CheckIn" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.CheckOut" class="form-label-add-edit">
                    Check Out:<span style="color: red"> *</span>
                </label>
                <input asp-for="@Model.CheckOut" class="form-control" aria-required="true" placeholder="Hotel's check out..." />
                <span asp-validation-for="@Model.CheckOut" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.Parking" class="form-label-add-edit">Select Parking Status<span style="color: red"> *</span></label>
                <select asp-for="@Model.Parking" class="form-control" aria-required="true">
                    <option disabled selected value="">Select Status...</option>
                    @foreach (var status in Model.ParkingAvailabilities)
                    {
                        <option value="@status">@status</option>
                    }
                </select>
                <span asp-validation-for="@Model.Parking" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.Pets" class="form-label-add-edit">Select Pets Status<span style="color: red"> *</span></label>
                <select asp-for="@Model.Pets" class="form-control" aria-required="true">
                    <option disabled selected value="">Select Status...</option>
                    @foreach (var status in Model.PetsStatuses)
                    {
                        <option value="@status">@status</option>
                    }
                </select>
                <span asp-validation-for="@Model.Pets" class="text-danger"></span>
            </div>
            <div class="mb-3">
                <label asp-for="@Model.ImageUrl" class="form-label-add-edit">
                    Image URL:<span style="color: red"> *</span>
                </label>
                <input id="imageUrlInput" asp-for="@Model.ImageUrl" class="form-control" aria-required="true" placeholder="Hotel's Image URL..." />
                <span asp-validation-for="@Model.ImageUrl" class="text-danger"></span>
            </div>


            <div class="d-flex justify-content-between align-items-center mb-3">
                <a asp-area="" asp-controller="Hotel" asp-action="All" style="margin-right: 15px;" class="btn btn-primary mb-2 w-100 p-3 fw-bold">Back to all hotels</a>

                <button type="submit" class="btn btn-warning mb-2 w-100 p-3 fw-bold">Add the new hotel</button>
            </div>

        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        $(document).ready(function () {
            $('#imageUrlInput').on('input', function () {
                var newImageUrl = $(this).val();
                $('#hotelImage').attr('src', newImageUrl);
            });
        });
    </script>
}
